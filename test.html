<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet"
	href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<script
	src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDRouPkKOZWj5k6-9xAgXmGPXzeeCxsVMs&callback=initMap"
    async defer></script>
<script type="text/javascript">
	
</script>
</head>
<body>

	<p>Click the button to get your coordinates.</p>

	<button onclick="getLocation()">Try It</button>

	<p id="demo"></p>

	
	
	<script type="text/javascript">
		var x = document.getElementById("demo");

		function getLocation() {
			if (navigator.geolocation) {
				navigator.geolocation.getCurrentPosition(showPosition);
			} else {
				x.innerHTML = "Geolocation is not supported by this browser.";
			}
		}

		function showPosition(position) {
			x.innerHTML = "Latitude: " + position.coords.latitude
					+ "<br>Longitude: " + position.coords.longitude;
			
			var date = new Date;
			var mm = date.getMonth() + 1;
			var dd = date.getDate();
			var hh = date.getHours();
            var min = date.getMinutes();
            var ss  = date.getSeconds();
			
			var dateFormat = [date.getFullYear(), (mm>9 ? '' : '0') + mm, (dd>9 ? '' : '0') + dd].join('-')+' '+ 
			[(hh>9 ? '' : '0') + hh, (mm>9 ? '' : '0') + mm, (ss>9 ? '' : '0') + ss].join(':');
		
			var latitude = position.coords.latitude;
			var longitude = position.coords.longitude;
			
			var locations = [
								[ dateFormat, latitude, longitude, 28 ],
								[ '2017-03-29 20:54:11,351', 30.308720, 120.852147, 10 ] 
							];
			var map = new google.maps.Map(document.getElementById('map'), {
				zoom : 17,
				center : new google.maps.LatLng(latitude, longitude),
				mapTypeId : google.maps.MapTypeId.ROADMAP
			});
			var infowindow = new google.maps.InfoWindow();
			var marker, i;
			for (i = 0; i < locations.length; i++) {
				marker = new google.maps.Marker({
					position : new google.maps.LatLng(locations[i][1],
							locations[i][2]),
					map : map
				});
				google.maps.event.addListener(marker, 'click', (function(
						marker, i) {
					return function() {
						infowindow.setContent(locations[i][0]);
						infowindow.open(map, marker);
					}
				})(marker, i));
			}
			
		}
	</script>

	<div id="map" style="width: 100%; height: 800px;"></div>

</body>
</html>